ğŸ¤¯ï¸ğŸ¤¯ï¸ğŸ¤¯ï¸New Project?ğŸ¤¯ï¸ğŸ¤¯ï¸ğŸ¤¯ï¸
1) dotnet new mvc --no-https












ğŸ¤¯ï¸ğŸ¤¯ï¸ğŸ¤¯ï¸Add Database?ğŸ¤¯ï¸ğŸ¤¯ï¸ğŸ¤¯ï¸
1) dotnet add package Pomelo.EntityFrameworkCore.MySql -v 2.2.0
2) in Models folder:
	new file: YourContext.cs and add:
//////////////////////////////////////////////
	using Microsoft.EntityFrameworkCore;
 
namespace YourNamespace.Models
{
    public class MyContext : DbContext
    {
        // base() calls the parent class' constructor passing the "options" parameter along
        public MyContext(DbContextOptions options) : base(options) { }
    }
}
\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

3) Register your context class as a service
	In Startup.cs:

    using MyProject.Models;    <-------- add
    using Microsoft.EntityFrameworkCore; <-----------add
    public class Startup
    {
        // Other startup code
        public void ConfigureServices(IServiceCollection services)
        {
            string mySqlConnection = "server=localhost;userid=root;password=root;port=3306;database=mydb;SslMode=None"; <----add
            services.AddDbContext<MyContext>(options => options.UseMySql(mySqlConnection)); <----add
            // Add other services
        }
        // Other startup code
    }   

delete:
	services.Configure<CookiePolicyOptions>(options =>
	{
                // This lambda determines whether user consent for non-essential cookies is needed for a given request.
                options.CheckConsentNeeded = context => true;
                options.MinimumSameSitePolicy = SameSiteMode.None;
            });
&&&&&&&&&&&&&&&&&&
	app.UseCookiePolicy();


3) for each table we want to work with, we will create an associated Model class
	Example (User.cs)
///////////////////////////////////////////////////////////////////////////
    
    using System.ComponentModel.DataAnnotations;
    using System;
    using System.ComponentModel.DataAnnotations.Schema; <----- if comparing passwords or other fields
    namespace MyProject.Models
    {
        public class User
        {
            // auto-implemented properties need to match the columns in your table
            // the [Key] attribute is used to mark the Model property being used for your table's Primary Key
            [Key]
            public int UserId { get; set; }
            // MySQL VARCHAR and TEXT types can be represeted by a string
            public string FirstName { get; set; }
            public string LastName { get; set; }
            public string Email { get; set; }
            public string Password { get; set; }
            // The MySQL DATETIME type can be represented by a DateTime
            public DateTime CreatedAt {get;set;}
            public DateTime UpdatedAt {get;set;}
        }
    }

\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

4) DbSets:  remember that it is case insensitive...

////////////////////////////////////////////
 public DbSet<User> Users {get;set;} <--------  in public class MyContext
\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\


5) Dependency Injection(to our controller)
example:
/////////////////////////////////////////////
using Microsoft.EntityFrameworkCore;
using YourNamespace.Models;
using System.Linq;
// Other using statements
namespace MyProject.Controllers
{
    public class HomeController : Controller
    {
        private MyContext dbContext;              <------add
     
        // here we can "inject" our context service into the constructor
        public HomeController(MyContext context)   <-------add
        {
            dbContext = context;
        }
     
        [HttpGet]
        [Route("")]
        public IActionResult Index()
        {
            List<User> AllUsers = dbContext.Users.ToList();       <------ how to grab all
            
            return View();
        }
    }
 }
\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

6) Securing Your Connection String
In appsettings.json include the following, changing your port, userid, password and database as needed below Allowed Hosts while adding a comma:

////////////////////////////////////////////////////
{
    "DBInfo":
    {
        "Name": "MySQLconnect",
        "ConnectionString": "server=localhost;userid=root;password=root;port=3306;database=mydb;SslMode=None"
    }
}
////////////////////////////////////////////////////////

7)   Startup.cs:
///////////////////////////////////////////////////////////
// other using statements
using Microsoft.Extensions.Configuration;
public class Startup
{
    // This public getter will be how you access the data from appsettings.json
    // To access the connection string itself, you would use the following:
    // Configuration["DBInfo:ConnectionString"]
    public IConfiguration Configuration {get;}       
    // Here we will "inject" the default IConfiguration service, which will bind to appsettings.json by default
    // and then assign it to the Configuration property.  This happens at the startup of our application.
    public Startup(IConfiguration configuration)
    {
    	Configuration = configuration;
    }
    
    // Now we may use the connection string itself, bound to Configuration, to pass the required connection
    // credentials to MySQL
    public void ConfigureServices(IServiceCollection services)
    {
        services.AddDbContext<MyContext>(options => options.UseMySql(Configuration["DBInfo:ConnectionString"])); <------add
        // Add other services
    }
}


8)  Make a migration folder.  Run in terminal:
$ dotnet ef migrations add YourMigrationName

9)  Perform the migrations:
dotnet ef database update












ğŸ¤¯ï¸ğŸ¤¯ï¸ğŸ¤¯ï¸Add a form?ğŸ¤¯ï¸ğŸ¤¯ï¸ğŸ¤¯ï¸

1) In HTML
	<form asp-action="MethodName" asp-controller="Home" method="post">
		<label asp-for="Name"></label>
		<input asp-for="Name">
		<span asp-validation-for="Name"></span>
		<input value="Add Name" type="submit>
	  </form>
2)  in HomeController
